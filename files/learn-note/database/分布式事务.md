# 分布式事务
## 事务定义
事务提供一种机制将一个活动涉及的所有操作纳入到一个不可分割的执行单元，组成事务的所有操作只有在所有操作均能正常执行的情况下才能提交，只要其中任一操作执行失败，都将导致整个事务的回滚。
## 数据库本地事务
### ACID
**A 原子性（Atomicity）**  
一个事务中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚到事务开始的状态，就像这个事务从未执行过一样。  
**C 一致性（Consistency）**  
事务的一致性是指在一个事务执行之前和执行之后数据库都必须处于一致性状态。如果事务成功的完成，那么系统中所有变化将正确的应用，系统处于有效状态。如果事务中出现错误，那么系统中的所有变化将会自动的回滚，系统返回到原始状态。  
**I 隔离性（Isolation）**  
是指在并发环境中，当不同的事务同时操作相同的数据时，每个事务都有各自的完整数据空间。由并发事务所作的修改必须与任何其他并发事务所做的修改隔离。事务查看数据更新时，数据所处的状态要么是另一事务修改它之前的状态，要么是另一事务修改它之后的状态，事务不会查看到中间状态的数据。  
**D 持久性（Durability）**  
指的是只要事务成功结束，它对数据库所做的更新就必须永久保存下来。即使发生系统崩溃，重新启动数据库系统后，数据库还能恢复到事务成功结束时的状态。  

